(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"7mkc":function(A,D,a){"use strict";a.r(D);var X=a("g9YV"),p=a("wCAj"),Z=a("/zsF"),x=a("PArb"),H=a("OaEy"),r=a("2fM7"),G=a("DZo9"),B=a("8z0m"),m=a("VTBJ"),Q=a("DYRE"),u=a("zeV3"),$=a("P2fV"),T=a("NJEC"),q=a("+L6B"),d=a("2/Rp"),ee=a("miYZ"),h=a("tsqr"),y=a("ODXe"),i=a("q1tI"),l=a.n(i),k=a("9kvl"),M=a("uYtH"),R=a("hktn"),ae=a.n(R),U=a("z7Xi"),K=function(o){var c=Object(k.g)(),t=c.formatMessage,s=o.weekDaily,_=o.dispatch,S=o.loading,N=Object(i.useState)(0),f=Object(y.a)(N,2),g=f[0],j=f[1],b=Object(i.useState)(s.weekDailyList.length),O=Object(y.a)(b,2),v=O[0],w=O[1],F=Object(i.useState)([]),P=Object(y.a)(F,2),z=P[0],I=P[1],J=function(e){_({type:"weekDaily/deleteWeekDaily",payload:{weekNum:e}}).then(function(){h.default.success({key:"deleteWeekDailySuccess",duration:2,content:t({id:"weekDaily.deleteSuccess",defaultMessage:"\u6210\u529F\u5220\u9664\u4E86\u7B2C".concat(e,"\u5468\u7684\u5468\u62A5")},{weekNum:e})}),C()})},W=[{title:t({id:"weekDaily.timeInterval",defaultMessage:"\u65F6\u95F4\u6BB5"}),dataIndex:"timeInterval",key:"timeInterval",width:200},{title:t({id:"weekDaily.weekNum",defaultMessage:"\u5468\u6570"}),dataIndex:"weekNum",key:"weekNum",width:65,sorter:function(e,L){return e.weekNum-L.weekNum},sortDirections:["ascend"]},{title:t({id:"weekDaily.workContent",defaultMessage:"\u5DE5\u4F5C\u5185\u5BB9"}),minWidth:65,children:[{title:t({id:"weekDaily.coding",defaultMessage:"\u7F16\u7801"}),dataIndex:"coding",key:"coding"},{title:t({id:"weekDaily.testing",defaultMessage:"\u6D4B\u8BD5"}),dataIndex:"testing",key:"testing"},{title:t({id:"weekDaily.documentWriting",defaultMessage:"\u6587\u6863\u7F16\u5199"}),dataIndex:"documentWriting",key:"documentWriting"},{title:t({id:"weekDaily.selfStudying",defaultMessage:"\u81EA\u5B66"}),dataIndex:"selfStudying",key:"selfStudying"},{title:t({id:"weekDaily.translate",defaultMessage:"\u7FFB\u8BD1"}),dataIndex:"translate",key:"translate"},{title:t({id:"weekDaily.useless",defaultMessage:"\u51C6\u5907\u5DE5\u4F5C"}),dataIndex:"useless",key:"useless"}]},{title:t({id:"weekDaily.weekWorkload",defaultMessage:"\u672C\u5468\u5DE5\u4F5C\u91CF"}),dataIndex:"weekWorkload",key:"weekWorkload",onCell:function(e){return{className:e.weekWorkload<=40?"ok-work":"over-work"}}},{title:t({id:"weekDaily.weekday",defaultMessage:"\u5DE5\u4F5C\u65E5"}),dataIndex:"weekday",key:"weekday",onCell:function(e){return{className:e.weekday<=5?"ok-work":"over-work"}}},{title:t({id:"weekDaily.averageWorkload",defaultMessage:"\u65E5\u5747\u5DE5\u4F5C\u91CF"}),dataIndex:"averageWorkload",key:"averageWorkload",onCell:function(e){return{className:e.averageWorkload<=8?"ok-work":"over-work"}}},{title:t({id:"weekDaily.workSaturation",defaultMessage:"\u5DE5\u4F5C\u9971\u548C\u5EA6"}),dataIndex:"workSaturation",key:"workSaturation",render:function(e){return"".concat(e*100,"%")}},{title:t({id:"weekDaily.operation",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"",key:"",width:120,render:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.b,null,l.a.createElement(M.a,{to:"/weekDaily/edit/".concat(e.weekNum)},l.a.createElement(d.a,{type:"primary"},t({id:"cmn.edit",defaultMessage:"\u7F16\u8F91"}))),l.a.createElement(T.a,{title:t({id:"weekDaily.deleteConfirmMessage",defaultMessage:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u7B2C".concat(e.weekNum,"\u5468\u7684\u5468\u62A5\u5417\uFF1F")},{weekNum:e.weekNum}),onConfirm:function(){return J(e.weekNum)},okText:t({id:"cmn.yes",defaultMessage:"\u662F"}),cancelText:t({id:"cmn.no",defaultMessage:"\u5426"})},l.a.createElement(d.a,{danger:!0},t({id:"cmn.delete",defaultMessage:"\u5220\u9664"})))))}}],V={onRemove:function(){return I([]),{fileList:[]}},beforeUpload:function(e){return I([e]),_({type:"weekDaily/importDailyInfo",payload:{file:e}}),!1},fileList:z},C=function(){_({type:"weekDaily/getWeekDailyList"}).then(function(e){w(e-1)})};Object(i.useEffect)(function(){C()},[]);var Y=function(){debugger;_({type:"weekDaily/exportDailyInfo",payload:{weekDailyList:s.weekDailyList.slice(g,v+1).map(function(e){return Object(m.a)(Object(m.a)({},e),{},{weekData:JSON.stringify(e.weekData)})}),header:W,fileName:"".concat(s.startList[g].label.split("-")[0])+"-".concat(s.endList[v].label.split("-")[1])+"".concat(t({id:"weekDaily.weekDaily",defaultMessage:"\u5468\u62A5.xlsx"}))}})};return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,t({id:"weekDaily.title",defaultMessage:"\u6211\u7684\u5468\u62A5"})),l.a.createElement(u.b,{direction:"vertical"},l.a.createElement(u.b,null,l.a.createElement(B.a,V,l.a.createElement(d.a,{icon:l.a.createElement(U.a,null)},t({id:"weekDaily.import",defaultMessage:"\u5BFC\u5165\u5468\u62A5"}))),l.a.createElement(M.a,{to:"/weekDaily/add",style:{marginTop:"10px"}},l.a.createElement(d.a,{type:"primary"},t({id:"weekDaily.add",defaultMessage:"\u65B0\u589E\u5468\u62A5"})))),l.a.createElement(u.b,{size:5},l.a.createElement(r.a,{placeholder:t({id:"weekDaily.start",defaultMessage:"\u5F00\u59CB\u533A\u95F4"}),onChange:function(e){j(e)},style:{width:"200px"}},s.startList.map(function(n){return l.a.createElement(r.a.Option,{value:n.value,key:n.value},n.label)})),"~",l.a.createElement(r.a,{placeholder:t({id:"weekDaily.end",defaultMessage:"\u7ED3\u675F\u533A\u95F4"}),onChange:function(e){w(e)},style:{width:"200px"}},s.endList.map(function(n){return l.a.createElement(r.a.Option,{value:n.value,key:n.value},n.label)})),l.a.createElement(d.a,{onClick:Y},t({id:"weekDaily.export",defaultMessage:"\u5BFC\u51FA\u5468\u62A5"})))),l.a.createElement(x.a,null),l.a.createElement(p.a,{columns:W,dataSource:s.weekDailyList,bordered:!0,size:"middle",loading:S}))};D.default=Object(k.c)(function(E){var o=E.weekDaily,c=E.loading;return{weekDaily:o,loading:c.models.weekDaily}})(K)},hktn:function(A,D,a){}}]);
